<div class="header__location">
  <button (click)="openCityListModal()" class="location-btn">
    üìç {{ city || '–û–ø—Ä–µ–¥–µ–ª—è–µ–º –≥–æ—Ä–æ–¥...' }}
  </button>

  <!-- –ú–∞–ª–µ–Ω—å–∫–æ–µ –æ–∫–æ—à–∫–æ –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π -->
  <div *ngIf="detectedCity && !city && !showCityModal" class="city-inline">
    –í–∞—à –≥–æ—Ä–æ–¥: <strong>{{ detectedCity }}</strong>?
    <button (click)="confirmCity()" class="yes">–î–∞</button>
    <button (click)="openCityListModal()" class="change">–ò–∑–º–µ–Ω–∏—Ç—å</button>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ -->
<div class="city-modal" *ngIf="showCityModal">
  <div class="city-modal-content">
    <h3>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</h3>

    <div class="districts">
      <div *ngFor="let district of groupedDistricts" class="district">
  <div class="district-header" (click)="district.expanded = !district.expanded">
    <h4>{{ district.name }}</h4>
    <span>{{ district.expanded ? '‚àí' : '+' }}</span>
  </div>

  <ul *ngIf="district.expanded" class="city-list">
    <li *ngFor="let c of district.cities"
        (click)="setCity(c)"
        class="city-item">
      {{ c.name }} <span class="subj">({{ c.subject }})</span>
    </li>
  </ul>
</div>

    </div>
  </div>
</div>
