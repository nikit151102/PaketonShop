<div class="product-card">

  <!-- –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
  <app-product-gallery [images]="productData.productImageLinks | cleanArrayLink"></app-product-gallery>

  <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ -->
  <div class="info">
    <h1 class="title">{{productData.fullName}}</h1>
    <p class="sku">–ê—Ä—Ç–∏–∫—É–ª: {{productData.article}}   <button class="copy-btn" (click)="copyArticle()" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ç–∏–∫—É–ª">
    üìã
  </button></p>

    <!-- –¶–µ–Ω–∞ -->
    <div class="price-wrapper" [class.discount]="isDiscount">
      <span class="new-price">{{ productData.retailPrice | number }} ‚ÇΩ</span>
      <span *ngIf="oldPrice" class="old-price">{{ oldPrice | number }} ‚ÇΩ</span>
    </div>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–∞ -->
    <div class="variants">
      <div class="variant-group">
        <p>–¶–≤–µ—Ç:</p>
        <div class="variant-options">
          <span *ngFor="let color of colors" 
                [style.background]="color.value" 
                [class.selected]="selectedColor===color.value"
                (click)="selectColor(color.value)">
          </span>
        </div>
      </div>

      <div class="variant-group">
        <p>–û–±—ä–µ–º:</p>
        <div class="variant-options">
          <button *ngFor="let vol of volumes" 
                  [class.selected]="selectedVolume===vol" 
                  (click)="selectVolume(vol)">
            {{ vol }}
          </button>
        </div>
      </div>
    </div>

    <!-- –î–µ–π—Å—Ç–≤–∏—è -->
    <div class="actions">
      <input type="number" [(ngModel)]="quantity" min="1" />
      <button (click)="addToCart()">–í –∫–æ—Ä–∑–∏–Ω—É</button>
    </div>

    <!-- –ù–∞–ª–∏—á–∏–µ -->
    <p class="stock" [class.low]="stock < 5">
      –í –Ω–∞–ª–∏—á–∏–∏: {{ stock }} —à—Ç.
    </p>

    <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö -->
    <button #storeCheckBtn class="store-check" (click)="openStores()">
      –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ
    </button>

    <!-- –ú–æ–¥–∞–ª–∫–∞ -->
    <div class="modal" *ngIf="showStores" [ngStyle]="{'top.px': modalTop, 'left.px': modalLeft}">
      <h2>–ù–∞–ª–∏—á–∏–µ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö</h2>
      <ul>
        <li *ngFor="let store of stores">
          {{store.name}} ‚Äî 
          <span [class.in-stock]="store.inStock">
            {{ store.inStock ? '–í –Ω–∞–ª–∏—á–∏–∏' : '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' }}
          </span>
        </li>
      </ul>
      <button class="close-btn" (click)="showStores=false">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
</div>
