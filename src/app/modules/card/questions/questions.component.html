<div class="questions-container">

  <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
  <ng-container *ngIf="loading">
    <p class="info">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤...</p>
  </ng-container>

  <!-- –û—à–∏–±–∫–∞ -->
  <ng-container *ngIf="!loading && error">
    <p class="error">{{ error }}</p>
  </ng-container>

  <!-- –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ -->
  <ng-container *ngIf="!loading && !error && data.length > 0">
    <div *ngFor="let q of data" class="question-card">

      <!-- –•–µ–¥–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ -->
      <div class="question-header">
        <img class="question-avatar" [src]="q.product.productImageLink" alt="User Avatar">
        <div class="header-right">
          <span class="question-user">{{ q.requestMessage.userName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' }}</span>
          <span class="question-date">{{ q.requestMessage.dateTime | date:'dd.MM.yyyy HH:mm' }}</span>
        </div>
      </div>

      <!-- –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ -->
      <p class="question-text">{{ q.requestMessage.text }}</p>

      <!-- –õ–∞–π–∫–∏ / –î–∏–∑–ª–∞–π–∫–∏ -->
      <div class="question-actions">
        <button class="like-btn" (click)="like(q)">
          üëç <span>{{ q.requestMessage.likeCount || 0 }}</span>
        </button>
        <button class="dislike-btn" (click)="dislike(q)">
          üëé <span>{{ q.requestMessage.dislikeCount || 0 }}</span>
        </button>
      </div>

      <!-- –û—Ç–≤–µ—Ç -->
      <div class="question-answer" *ngIf="q.responseMessage">
        <div class="answer-header">
          <img class="answer-avatar" src="https://i.pravatar.cc/50?img=10" alt="Brand Avatar">
          <span class="answer-label">–û—Ç–≤–µ—Ç –±—Ä–µ–Ω–¥–∞</span>
        </div>
        <p class="answer-text">{{ q.responseMessage.text }}</p>
      </div>

    </div>
  </ng-container>

  <!-- –ù–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤ -->
  <ng-container *ngIf="!loading && !error && data.length === 0">
    <p class="info">–ü–æ–∫–∞ –Ω–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —ç—Ç–æ–º—É —Ç–æ–≤–∞—Ä—É.</p>
  </ng-container>

  <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞ -->
  <div class="question-form">
    <h4>–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å</h4>
    <textarea [(ngModel)]="newQuestion" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..." rows="3"
      class="question-textarea"></textarea>

    <button class="question-submit" (click)="createQuestion()">
      {{ sending ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å' }}
    </button>
  </div>

</div>