<div class="product-details-container">
  <app-product-card [productData]="productData"></app-product-card>

  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ç–∞–±–∞–º -->
  <div class="tabs-wrapper">
    <div class="tabs-navigation">
      <button [class.active]="activeTab === 'description'" (click)="setTab('description')" class="tab-button">
        <span class="tab-label">–û–ø–∏—Å–∞–Ω–∏–µ</span>
      </button>

      <button [class.active]="activeTab === 'features'" (click)="setTab('features')" class="tab-button">
        <span class="tab-label">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</span>
        <span class="tab-badge" *ngIf="getProductSpecs().length">
          {{ getProductSpecs().length }}
        </span>
      </button>

      <button [class.active]="activeTab === 'reviews'" (click)="setTab('reviews')" class="tab-button">
        <span class="tab-label">–û—Ç–∑—ã–≤—ã</span>
        <span class="tab-badge" *ngIf="productData?.reviewsCount">
          {{ productData.reviewsCount }}
        </span>
      </button>

      <button [class.active]="activeTab === 'questions'" (click)="setTab('questions')" class="tab-button">
        <span class="tab-label">–í–æ–ø—Ä–æ—Å—ã</span>
        <span class="tab-badge" *ngIf="productData?.questionsCount">
          {{ productData.questionsCount }}
        </span>
      </button>
    </div>

    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–æ–≤ -->
    <div class="tabs-content">
      <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
      <div *ngIf="activeTab === 'description'" class="tab-pane">
        <div class="description-content">
          <div class="description-header">
            <h3 class="description-title">–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</h3>
          </div>

          <div class="description-text">
            <p>{{ productData?.description || '–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç' }}</p>
          </div>
        </div>
      </div>

      <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
      <div *ngIf="activeTab === 'features'" class="tab-pane">
        <div class="features-content">
          <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
          <div class="features-header">
            <h3 class="features-title">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3>
            <p class="features-subtitle">
              –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ–≤–∞—Ä–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
            </p>
          </div>

          <!-- –°–ø–∏—Å–æ–∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ -->
          <div class="features-list" *ngIf="getProductSpecs().length">
            <div class="feature-item" *ngFor="let spec of getProductSpecs(); let i = index"
              [class.important]="isImportantSpec(spec.propertyName)">
              <div class="feature-row">
                <div class="feature-name-container">
                  <span class="feature-index">#{{ i + 1 }}</span>
                  <h4 class="feature-name">{{ spec.propertyName }}</h4>
                </div>

                <div class="feature-value-container">
                  <span class="feature-value">{{ spec.value }}</span>
                  <span class="feature-unit" *ngIf="spec.measurementUnitName">
                    {{ spec.measurementUnitName }}
                  </span>
                </div>
              </div>

              <div class="feature-divider"></div>
            </div>
          </div>

          <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
          <div class="empty-features" *ngIf="!getProductSpecs().length">
            <div class="empty-icon">üìã</div>
            <h4>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</h4>
            <p>–î–ª—è —ç—Ç–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –ø–æ–∫–∞ –Ω–µ —É–∫–∞–∑–∞–Ω—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</p>
          </div>

        </div>
      </div>

      <!-- –û—Ç–∑—ã–≤—ã -->
      <div *ngIf="activeTab === 'reviews'" class="tab-pane">
        <div class="reviews-container">
          <app-reviews [productId]="productData.id"></app-reviews>
        </div>
      </div>

      <!-- –í–æ–ø—Ä–æ—Å—ã -->
      <div *ngIf="activeTab === 'questions'" class="tab-pane">
        <div class="questions-container">
          <app-questions [productId]="productData.id"></app-questions>
        </div>
      </div>
    </div>
  </div>
</div>