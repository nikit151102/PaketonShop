<div class="ticket-list-container">
  <!-- Фильтры и поиск -->
  <div class="list-header">
    <div class="search-box">
      <svg class="search-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      </svg>
      <input 
        type="text" 
        [(ngModel)]="searchQuery" 
        placeholder="Поиск обращений..." 
        class="search-input"
      />
    </div>
    
    <div class="filter-tabs">
      <button 
        *ngFor="let status of ['all', 'new', 'in_progress', 'waiting_user', 'waiting_support', 'closed']"
        class="filter-tab"
        [class.active]="filterStatus === status"
        (click)="filterStatus = status"
      >
        <span class="tab-label">{{ getStatusLabel(status) }}</span>
        <span class="tab-count">{{ getStatusCount(status) }}</span>
      </button>
    </div>
  </div>

  <!-- Список тикетов -->
  <div class="tickets-scroll">
    <div *ngIf="filteredTickets.length === 0" class="empty-list">
      <div class="empty-icon">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"/>
        </svg>
      </div>
      <p class="empty-text">Нет обращений по выбранному фильтру</p>
    </div>

    <app-ticket-item
      *ngFor="let ticket of filteredTickets"
      [ticket]="ticket"
      [isSelected]="selectedTicketId === ticket.id"
      (click)="selectTicket(ticket)"
    ></app-ticket-item>
  </div>

  <!-- Информация -->
  <div class="list-footer">
    <div class="footer-info">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
      </svg>
      <span>Всего обращений: {{ tickets.length }}</span>
    </div>
  </div>
</div>