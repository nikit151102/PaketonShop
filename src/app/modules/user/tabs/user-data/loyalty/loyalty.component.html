<section class="loyalty">
  <h3>–ú–æ—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h3>

  <div class="loyalty-progress">
    <div class="levels">
      <div
        class="level"
        *ngFor="let lvl of loyaltyLevels; let i = index"
        [class.active]="currentAmount >= lvl.min"
      >
      <img class="crown" [src]="lvl.crown" alt="">
        <span class="label">{{ lvl.name }}</span>
        <span class="range">{{ lvl.min | number }} ‚ÇΩ</span>
      </div>
    </div>

    <div class="progress-bar">
      <div
        class="progress-fill"
        [style.width.%]="progressPercent"
      ></div>
    </div>
  </div>

  <div class="loyalty-info">
    <div class="info-card">
      <div class="icon">üí∞</div>
      <div class="text">
        <p class="title">–í–∞—à–∏ –∑–∞–∫–∞–∑—ã –∑–∞ –º–µ—Å—è—Ü</p>
        <p class="value">{{ currentAmount | number }} ‚ÇΩ</p>
      </div>
    </div>

    <div class="info-card">
      <div class="icon">üéÅ</div>
      <div class="text">
        <p class="title">–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å</p>
        <p class="value highlight">{{ currentLevel?.name }}</p>
      </div>
    </div>

    <div class="info-card" *ngIf="nextLevel">
      <div class="icon">‚¨ÜÔ∏è</div>
      <div class="text">
        <p class="title">–î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è</p>
        <p class="value">
          {{ nextLevel.min - currentAmount | number }} ‚ÇΩ
        </p>
      </div>
    </div>

    <div class="info-card vip" *ngIf="!nextLevel">
      <div class="icon">üî•</div>
      <div class="text">
        <p class="title">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</p>
        <p class="value">–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ VIP —É—Ä–æ–≤–Ω—è üéâ</p>
      </div>
    </div>
  </div>
</section>
